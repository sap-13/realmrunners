<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Realm Runners (Web)</title>
  <style>
    body { margin:0; overflow:hidden; background:#000; }
    canvas { display:block; margin:0 auto; background:#000; }
    #menuOverlay, #optionsOverlay, #endOverlay {
      position:absolute; top:0; left:0; width:100%; height:100%; display:flex;
      justify-content:center; align-items:center; flex-direction:column;
      background: rgba(0,0,0,0.8); color:#fff; font-family:sans-serif;
      z-index:10;
    }
    #optionsOverlay, #endOverlay { display:none; }
    button { padding:10px 20px; margin:10px; font-size:18px; cursor:pointer; }
    #optionsBtn { position:absolute; top:10px; right:10px; z-index:5; width:32px; height:32px; font-size:24px; background:#444; color:#fff; border:none; }
  </style>
</head>
<body>
  <!-- Overlays -->
  <div id="menuOverlay">
    <h1>Realm Runners</h1>
    <button id="startBtn">Start Race</button>
  </div>
  <div id="optionsOverlay">
    <h2>Options</h2>
    <button id="newGameBtn">New Game</button>
    <button id="restartBtn">Restart</button>
    <button id="closeOptsBtn">Close</button>
  </div>
  <div id="endOverlay">
    <h2>Race Finished!</h2>
    <button id="endNewBtn">New Game</button>
  </div>
  <button id="optionsBtn">+</button>

  <!-- Main Game Canvas -->
  <canvas id="game" width="1024" height="576"></canvas>

  <!--
    ASSETS SETUP
    1. Create an "assets/" folder in your repo root.
    2. Add your transparent PNGs: e.g. assets/player_red.png, assets/player_orange.png, assets/spike.png, etc.
    3. Commit with:
       git add assets/
       git commit -m "Add sprite assets"
    4. Push to GitHub.
  -->
  <script>
  // Sprite asset paths (relative to index.html)
  const ASSETS = {
    player:    'assets/player_red.png',
    ai:        'assets/player_orange.png',
    spike:     'assets/spike.png',
    spring:    'assets/spring.png',
    platform:  'assets/platform.png',
    background:'assets/bg.png',
    goal:      'assets/goal.png'
  };

  // Preload images
  const images = {};
  let loaded = 0, total = Object.keys(ASSETS).length;
  for (let key in ASSETS) {
    images[key] = new Image();
    images[key].src = ASSETS[key];
    images[key].onload = () => {
      if (++loaded === total) init();
    };
  }

  // Initialize game once assets are ready
  function init() {
    const canvas = document.getElementById('game'), ctx = canvas.getContext('2d');

    // ... define game state, classes, and logic here ...

    // Example draw using sprites:
    function drawScene(offsetX) {
      // Parallax background
      ctx.drawImage(images.background, -offsetX * 0.2 % canvas.width, 0);
      ctx.drawImage(images.background, (-offsetX * 0.2 % canvas.width) + canvas.width, 0);

      // Draw platforms
      track.tiles.forEach(t => {
        ctx.drawImage(images.platform, t.x - offsetX, t.y, t.w, t.h);
      });

      // Draw spikes
      track.spikes.forEach(s => {
        ctx.drawImage(images.spike, s.x - offsetX, s.y, s.w, s.h);
      });

      // Draw springs
      track.springs.forEach(sp => {
        ctx.drawImage(images.spring, sp.x - offsetX, sp.y, sp.w, sp.h);
      });

      // Draw goal banner
      ctx.drawImage(images.goal, track.finishX - offsetX - 16, track.tiles[0].y - 64, 32, 64);

      // Draw human player
      ctx.drawImage(images.player, player.pos.x - offsetX, player.pos.y, player.w, player.h);
      
      // Draw AI players
      racers.slice(1).forEach(ai => {
        ctx.drawImage(images.ai, ai.pos.x - offsetX, ai.pos.y, ai.w, ai.h);
      });
    }

    // Game loop
    function loop(ts) {
      // ... update game state, physics, input ...
      let camX = player.pos.x - canvas.width / 2;
      camX = Math.max(0, camX);

      drawScene(camX);

      // ... draw UI overlays ...

      requestAnimationFrame(loop);
    }
    requestAnimationFrame(loop);
  }
  </script>
</body>
</html>
